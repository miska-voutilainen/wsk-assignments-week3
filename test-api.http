### Test Cat Endpoints

# Get all cats
GET http://localhost:3000/api/v1/cat

###

# Get cat by ID
GET http://localhost:3000/api/v1/cat/1

###

# Add a new cat
POST http://localhost:3000/api/v1/cat
Content-Type: application/json

{
  "name": "Mittens",
  "birthdate": "2023-05-10",
  "weight": 3.5,
  "owner": 37
}

###

# Test file upload (protected route)
POST http://localhost:3000/api/v1/cat HTTP/1.1
Content-Type: multipart/form-data; boundary=MyBoundary
Authorization: Bearer {{token}}

--MyBoundary
Content-Disposition: form-data; name="name"

Misu
--MyBoundary
Content-Disposition: form-data; name="weight"

6
--MyBoundary
Content-Disposition: form-data; name="owner"

37
--MyBoundary
Content-Disposition: form-data; name="birthdate"

2023-10-08
--MyBoundary
Content-Disposition: form-data; name="file"; filename="test-cat.png"
Content-Type: image/jpeg

< ./test-cat.png
--MyBoundary--

###

# Update cat (protected - only owner or admin)
PUT http://localhost:3000/api/v1/cat/41
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "name": "Updated Siiri",
  "weight": 4.5,
  "owner": 37,
  "birthdate": "2010-03-05"
}

###

# Delete cat (protected - only owner or admin)
DELETE http://localhost:3000/api/v1/cat/41
Authorization: Bearer {{token}}

###

### Test Authentication

# Login (test user from database)
POST http://localhost:3000/api/v1/auth/login
Content-Type: application/json

{
  "username": "john",
  "password": "password"
}

###

# Store token from login response
@token = PUT_YOUR_TOKEN_HERE

# Get my user info (protected route)
GET http://localhost:3000/api/v1/auth/me
Authorization: Bearer {{token}}

###

### Test User Endpoints

# Get all users (public)
GET http://localhost:3000/api/v1/user

###

# Get user by ID (public)
GET http://localhost:3000/api/v1/user/37

###

# Create new user (public - registration)
POST http://localhost:3000/api/v1/user
Content-Type: application/json

{
  "name": "Test User New",
  "username": "testuser",
  "email": "test@example.com",
  "password": "testpassword",
  "role": "user"
}

###

# Update user (protected - only own profile or admin)
PUT http://localhost:3000/api/v1/user/37
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "name": "Updated Test User",
  "username": "john",
  "email": "john@metropolia.fi"
}

###

# Get cats by user ID
GET http://localhost:3000/api/v1/cat/user/37

###

# Add a new user
POST http://localhost:3000/api/v1/user
Content-Type: application/json

{
  "name": "Alice Johnson",
  "username": "alicejohnson",
  "email": "alice@metropolia.fi",
  "role": "user",
  "password": "newpassword"
}

###

# Update user
PUT http://localhost:3000/api/v1/user/3609

###

# Delete user
DELETE http://localhost:3000/api/v1/user/3609